<!DOCTYPE html>
<html>
    <head>
        <title>TEAM API</title>
    </head>
    <body>
        <h1>Team API</h1>
        <div>
            <button id="GET">List All Team Members</button>
            <button id="POST">Add New Team Member</button>
            <button id="PATCH">Edit a Team Member</button>
            <button id="GET2">List a Single Team Member</button>
            <button id="DELETE">Delete a Team Member</button>
        </div>
        <pre id="request" style="background-color: #66EF66"></pre>
        <pre id="response" style="background-color: #66EF66"></pre>
        <pre id="data-dump" style="background-color: #F0F0F0">idle...</pre>
    </body>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script type="text/javascript">

        $('#GET').click(function(){
            $('#request').text("GET http://127.0.0.1:8000/members/")
            $.ajax({
                url: 'http://127.0.0.1:8000/members/',
                type: 'GET',                   
                contentType: 'application/json',
                dataType: 'json',
                processData: false,
                success: function(data, textStatus){
                    var str = JSON.stringify(data, null, 2);
                    $('#data-dump').text(str)
                    $('#response').text("response: " + textStatus)
                },
                error: function(jqXHR, xhr, textStatus){
                    $('#data-dump').text("Failed...")
                    $('#response').text("response: " + textStatus)                           
               }
            })
        })

        $('#GET2').click(function(){
            $('#request').text("GET http://127.0.0.1:8000/members/1")
            $.ajax({
                url: 'http://127.0.0.1:8000/members/1',
                type: 'GET',                   
                contentType: 'application/json',
                dataType: 'json',
                processData: false,
                success: function(data, textStatus){
                    var str = JSON.stringify(data, null, 2);
                    $('#data-dump').text(str)
                    $('#response').text("response: " + textStatus)
                },
                error: function(jqXHR, xhr, textStatus){
                    $('#data-dump').text("Failed...")
                    $('#response').text("response: " + textStatus)                           
               }
            })
        })

        $('#POST').click(function(){
            $('#request').text("POST http://127.0.0.1:8000/members/")
            $.ajax({
                url: 'http://127.0.0.1:8000/members/',
                type: 'POST',                   
                contentType: 'application/json',
                dataType: 'json',
                data: '{"first_name": "Gavin","last_name": "Belson","email_address": "gb@hooli.com","phone_number":"805-252-1111","role": "regular"}',
                success: function(data, textStatus){
                    var str = JSON.stringify(data, null, 2);
                    $('#data-dump').text(str)
                    $('#response').text("response: " + textStatus)
                },
                error: function(jqXHR, xhr, textStatus){
                    $('#data-dump').text("Failed...")
                    $('#response').text("response: " + textStatus)                           
               }
            })
        })

        $('#PATCH').click(function(){
            $('#request').text("PATCH http://127.0.0.1:8000/members/9/")
            $.ajax({
                url: 'http://127.0.0.1:8000/members/9/',
                type: 'PATCH',                   
                contentType: 'application/json',
                dataType: 'json',
                data: '{"role": "admin"}',
                success: function(data, textStatus){
                    var str = JSON.stringify(data, null, 2);
                    $('#data-dump').text(str)
                    $('#response').text("response: " + textStatus)
                },
                error: function(jqXHR, xhr, textStatus){
                    $('#data-dump').text("Failed...")
                    $('#response').text("response: " + textStatus)                           
               }
            })
        })

        $('#DELETE').click(function(){
            $('#request').text("DELETE http://127.0.0.1:8000/members/10/")
            $.ajax({
                url: 'http://127.0.0.1:8000/members/10/',
                type: 'DELETE',                   
                contentType: 'application/json',
                dataType: 'json',
                success: function(data, textStatus){
                    var str = JSON.stringify(data, null, 2);
                    $('#data-dump').text("")
                    $('#response').text("response: " + textStatus)
                },
                error: function(jqXHR, xhr, textStatus){
                    $('#response').text("response: " + textStatus)                           
               }
            })
        })

    </script>

</html>